<UserControl
    x:Class="GroupCalendar.Views.Controls.BindablePasswordBox"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:GroupCalendar.Views.Controls"
    mc:Ignorable="d"
    d:DesignHeight="450"
    d:DesignWidth="800"
    >
    <Grid>
        <PasswordBox
            x:Name="passwordBox"
            PasswordChanged="PasswordBox_PasswordChanged"
            Tag="{Binding Password, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
            />


        <Border IsHitTestVisible="False">
            <Border.Visibility>
                <MultiBinding Converter="{StaticResource AllFalsyToVisibleConverter}">
                    <Binding
                        Path="Password"
                        RelativeSource="{RelativeSource AncestorType=UserControl}"
                        />
                    <Binding
                        Path="PlaceholderText"
                        RelativeSource="{RelativeSource AncestorType=UserControl}"
                        Converter="{StaticResource FalsyToTrueConverter}"
                        />
                </MultiBinding>
            </Border.Visibility>


            <TextBlock
                Text="{Binding PlaceholderText, RelativeSource={RelativeSource AncestorType=UserControl}}"
                Foreground="LightGray"
                Opacity="0.5"
                Margin="5"
                />
        </Border>
    </Grid>
</UserControl>
